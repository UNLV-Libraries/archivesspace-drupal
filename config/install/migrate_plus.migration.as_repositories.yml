uuid: 376945f0-cb7d-4345-966b-acb258c86bbc
id: as_repositories
label: ArchivesSpace Repositories
migration_group: archivesspace

source:
  plugin: archivesspace
  authentication:
    plugin: archivesspace
    # Remove the leading '#' to override site settings (/admin/structure/archivesspace/settings)
#    username: 'admin'
#    password: 'admin' # I *really* hope you changed this...
#    base_uri: 'http://localhost:8089' # Only applies to authentication...
  data_fetcher_plugin: http
#  base_uri: 'http://localhost:8089' # Only applies to the listed urls
  urls: http://localhost:8089/repositories # Can ommit the server & port (/repositories) if base_uri is set
  ids:
    uri:
      type: string
  item_selector: 0
  fields:
    -
      name: name
      label: 'Name'
      selector: /name
    -
      name: uri
      label: 'URI'
      selector: /uri
    -
      name: repo_code
      label: 'Repository Code'
      selector: /repo_code

destination:
  plugin: entity:node
  bundle: repository

process:
  type:
    plugin: default_value
    default_value: repository
  title: name
  field_repository_short_name: repo_code
  uid:
    plugin: default_value
    default_value: 1
