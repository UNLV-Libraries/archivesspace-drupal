id: as_subjects_all
label: ArchivesSpace Subjects
migration_group: archivesspace

source:
  plugin: archivesspace
  object_type: subject
  base_uri: http://localhost:8089
  # repository: /repositories/2
  username: admin
  password: admin
  keys:
    - uri

destination:
  plugin: entity:taxonomy_term
  default_bundle: subject

process:
  is_used: # Remove if you want to keep agents that are also users
    plugin: skip_on_value
    source: is_linked_to_published_record
    method: row
    value: false
  skip_special_types:
    -
      plugin: extract
      source: terms
      default: 'topical'
      index:
        - 0
        - term_type
    -
      plugin: skip_on_value
      method: row
      value: geographic
  name: title
  uid:
    plugin: default_value
    default_value: 1
