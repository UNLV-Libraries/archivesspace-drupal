uuid: baa226ff-09ec-48d8-96e4-439d55d7be55
id: as_resources
label: ArchivesSpace Resources
migration_group: archivesspace
migration_dependencies:
  required:
    - as_repositories

source:
  plugin: archivesspace
  object_type: resource
  base_uri: http://localhost:8089/repositories
  repository: /repositories/2
  username: drupal
  password: drupal
  keys:
    - uri

destination:
  plugin: entity:node
  bundle: archival_resource

process:
  type:
    plugin: default_value
    default_value: archival_resource
  title: title
  uid:
    plugin: default_value
    default_value: 1
  field_repository:
    -
      plugin: extract
      source: repository
      index:
        - ref
    -
      plugin: migration_lookup
      migration: as_repositories
      no_stub: true
